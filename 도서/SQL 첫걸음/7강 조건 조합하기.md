# 7강 조건 조합하기
- 조건을 조합하여 더 세밀하게 검색할 수 있도록 3개의 논리 연산자 `AND`, `OR`, `NOT`에 대해 알아보자.
  - `조건식1 AND 조건식2`
  - `조건식1 OR 조건식2`
  - `NOT 조건식`
- 실제 `SELECT` 명령을 사용할 때 보통 2개 이상의 조건식을 조합하여 결과값을 최대한 줄인다.
- 조건식을 조합해 사용할 경우 복수의 조건을 `WHERE` 구로 지정한다.

### AND로 조합하기
- `AND`는 좌우의 식 모두 참일 경우 참을 반환한다. (모든 조건을 만족하는 경우 참 반환)
- `AND` 연산은 조건을 만족하는 행을 집합으로 표현했을 때 '교집합'으로 볼 수 있다.
- `AND` 연산자는 논리곱을 계산하는 논리 연산자이다.
- 예를 들어, sample21 테이블이 아래와 같다고 하자.

| no | a | b | c |
|:--:|:-:|:-:|:-:|
| 1 | 1 | 0 | 0 |
| 2 | 0 | 1 | 0 |
| 3 | 0 | 0 | 1 |
| 4 | 2 | 2 | 0 |
| 5 | 0 | 2 | 2 |

여기서 **a 열과 b 열이 모두 0이 아닌 행 검색** 이라는 요구사항이 있다면 다음과 같은 명령을 사용할 수 있다.

```
SELECT * FROM sample21 WHERE a<>0 AND b<>0;
```

| no | a | b | c |
|:--:|:-:|:-:|:-:|
| 4 | 2 | 2 | 0 |

### OR로 조합하기
- `OR`은 어느 쪽이든 하나만 참이 되면 조건식은 참이 되는 연산자이다.
- 예를 들어, 위 sample21 테이블에서 **a 열이 0이 아니거나 b 열이 0이 아닌 행을 검색** 해보자.

```
SELECT * FROM sample21 WHERE a<>0 OR b<>0;
```

| no | a | b | c |
|:--:|:-:|:-:|:-:|
| 1 | 1 | 0 | 0 |
| 2 | 0 | 1 | 0 |
| 4 | 2 | 2 | 0 |
| 5 | 0 | 2 | 2 |

### AND와 OR을 사용할 경우 주의할 점

```
SELECT * FROM sample24 WHERE no = 1 OR 2;
```

- 열이나 상수만을 지정해도 에러가 발생하지 않지만 기대한 결과값을 얻을 수 없을 수 있다.
- 상수 '2'는 논리 연산으로 항상 참이므로, 위 명령은 항상 참이 반환된다. 아래와 같이 사용해야 한다.

```
SELECT * FROM sample24 WHERE no = 1 OR no = 2;
```

- 연산자 사이에는 우선 순위가 존재한다.
  - `AND`가 `OR`보다 우선 순위가 높다.
- 우선 순위를 고려하지 않으면 문제가 발생한다. 만약 **a 열이 1 또는 2이고, b 열이 1 또는 2인 행을 검색** 하는 명령어를 보자.

```
SELECT * FROM sample24 WHERE a=1 OR a=2 AND b=1 OR b=2;
```

- 위와 같이 사용하면 우선 순위에 따라 조건식은 3개로 나뉜다.
  - `a = 1`
  - `a = 2 AND b = 1`
  - `b = 2`
- 조건이 잘못지정되는 것을 미연에 방지할 수 있도록 **괄호로 묶어두는 습괍** 을 붙이는 것이 좋다.

```
SELECT * FROM sample24 WHERE (a=1 OR a=2) AND (b=1 OR b=2);
```

### NOT으로 조합하기
- `NOT` 연산자는 오른쪽에만 항목을 지정하는 '단항 연산자'이다.
- 오른쪽에 저정한 조건식의 반대 값을 반환한다.
- 예를 들어, sample21 테이블에서 **a 열이 0이 아니거나 b 열이 0이 아닌 행을 제외한 나머지 행을 검색** 해보자.

```
SELECT * FROM sample21 WHERE NOT(a<>0 OR b<>0);
```

| no | a | b | c |
|:--:|:-:|:-:|:-:|
| 3 | 0 | 0 | 1 |
